{"ast":null,"code":"import { createAsyncThunk, createSlice } from \"@reduxjs/toolkit\";\nconst initialState = {\n  posts: [],\n  users: [{\n    name: 'jai krishna verma',\n    email: 'jai@gmail.com',\n    number: 8787878787,\n    pic: 'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSP_jBNGDAl_gCziVLX5q8vuci3Z8VmfK8Rrdtct54&s',\n    password: '2222'\n  }],\n  sessionIndex: -1,\n  editIndex: -1,\n  msg: ''\n};\nexport const fetchData = createAsyncThunk('DataSlice/fetchData', async () => {\n  console.log('aa gya');\n  let res = await fetch('https://api.pexels.com/v1/curated?page=11&per_page=30', {\n    headers: {\n      Authorization: '563492ad6f917000010000018ca9c228a1e543fabdc77f6bc56284f9',\n      'Content-Type': 'multipart/mixed'\n    }\n  });\n  res = await res.json();\n  // .then(res=>res.json())\n  // .then(clg=>console.log(clg))\n  res = await res.photos.map(x => {\n    let y = {\n      ...x,\n      like: 0,\n      dislike: 0,\n      comments: []\n    };\n    return y;\n  });\n  console.log(res);\n  return res;\n});\nconst DataSlice = createSlice({\n  name: 'DataSlice',\n  initialState,\n  reducers: {\n    addUser: (state, action) => {\n      state.users.push({\n        name: action.payload.name,\n        email: action.payload.email,\n        number: action.payload.number,\n        pic: action.payload.pic,\n        password: action.payload.password\n      });\n    },\n    deleteBlog: (state, action) => {\n      state.posts[action.payload.index].comments.splice(action.payload.commentIndex, 1);\n    },\n    setSeesionIndex: (state, action) => {\n      state.sessionIndex = action.payload;\n    },\n    Like: (state, action) => {\n      state.posts[action.payload].like += 1;\n    },\n    Dislike: (state, action) => {\n      state.posts[action.payload].dislike += 1;\n    },\n    Comments: (state, action) => {\n      state.posts[action.payload.index].comments.push({\n        text: action.payload.comment\n      });\n    },\n    persistDatbase: (state, action) => {\n      state.posts = JSON.parse(action.payload).posts;\n      state.sessionIndex = JSON.parse(action.payload).sessionIndex;\n      state.users = JSON.parse(action.payload).users;\n    }\n  },\n  extraReducers: builder => {\n    builder.addCase(fetchData.pending, (state, action) => {\n      state.msg = 'loading';\n    });\n    builder.addCase(fetchData.rejected, (state, action) => {\n      state.msg = 'Api Request Rejected';\n    });\n    builder.addCase(fetchData.fulfilled, (state, action) => {\n      state.posts = [...action.payload];\n      state.msg = '';\n    });\n  }\n});\nexport default DataSlice.reducer;\nexport const {\n  addBlog,\n  addUser,\n  updatePost,\n  deleteBlog,\n  setSeesionIndex,\n  persistDatbase,\n  Like,\n  Dislike,\n  Comments\n} = DataSlice.actions;","map":{"version":3,"names":["createAsyncThunk","createSlice","initialState","posts","users","name","email","number","pic","password","sessionIndex","editIndex","msg","fetchData","console","log","res","fetch","headers","Authorization","json","photos","map","x","y","like","dislike","comments","DataSlice","reducers","addUser","state","action","push","payload","deleteBlog","index","splice","commentIndex","setSeesionIndex","Like","Dislike","Comments","text","comment","persistDatbase","JSON","parse","extraReducers","builder","addCase","pending","rejected","fulfilled","reducer","addBlog","updatePost","actions"],"sources":["/home/cedcoss/mark01/A-React Work/01_firstReactApp/83-blogApp/likeDislikes/src/Features/DataSlice.tsx"],"sourcesContent":["import { createAsyncThunk, createSlice } from \"@reduxjs/toolkit\";\n\nconst initialState: any = {\n    posts: [\n\n    ],\n    users: [{\n        name: 'jai krishna verma',\n        email: 'jai@gmail.com',\n        number: 8787878787,\n        pic: 'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSP_jBNGDAl_gCziVLX5q8vuci3Z8VmfK8Rrdtct54&s',\n        password: '2222'\n    }],\n    sessionIndex: -1,\n    editIndex: -1,\n    msg: ''\n}\n\nexport const fetchData = createAsyncThunk('DataSlice/fetchData', async () => {\n    console.log('aa gya')\n    let res: any = await fetch('https://api.pexels.com/v1/curated?page=11&per_page=30', {\n        headers: {\n            Authorization: '563492ad6f917000010000018ca9c228a1e543fabdc77f6bc56284f9',\n            'Content-Type': 'multipart/mixed'\n        }\n    })\n    res = await res.json()\n    // .then(res=>res.json())\n    // .then(clg=>console.log(clg))\n    res = await res.photos.map((x: any) => { let y = { ...x, like: 0, dislike: 0, comments: [] }; return y })\n    console.log(res)\n    return res\n\n})\n\nconst DataSlice: any = createSlice({\n    name: 'DataSlice',\n    initialState,\n    reducers: {\n        addUser: (state, action) => {\n            state.users.push({\n                name: action.payload.name,\n                email: action.payload.email,\n                number: action.payload.number,\n                pic: action.payload.pic,\n                password: action.payload.password\n            })\n        },\n\n        deleteBlog: (state, action) => {\n            state.posts[action.payload.index].comments.splice(action.payload.commentIndex, 1)\n        },\n        setSeesionIndex: (state, action) => {\n            state.sessionIndex = action.payload\n        },\n        Like: (state, action) => {\n            state.posts[action.payload].like += 1\n        },\n        Dislike: (state, action) => {\n            state.posts[action.payload].dislike += 1\n        },\n        Comments: (state, action) => {\n            state.posts[action.payload.index].comments.push({text:action.payload.comment})\n        },\n        persistDatbase: (state, action) => {\n            state.posts = JSON.parse(action.payload).posts\n            state.sessionIndex = JSON.parse(action.payload).sessionIndex\n            state.users = JSON.parse(action.payload).users\n        }\n    },\n    extraReducers: (builder) => {\n        builder.addCase(fetchData.pending, (state, action) => {\n            state.msg = 'loading'\n        })\n        builder.addCase(fetchData.rejected, (state, action) => {\n            state.msg = 'Api Request Rejected'\n        })\n        builder.addCase(fetchData.fulfilled, (state, action) => {\n            state.posts = [...action.payload]\n            state.msg = ''\n        })\n    }\n})\n\nexport default DataSlice.reducer;\nexport const { addBlog, addUser, updatePost, deleteBlog, setSeesionIndex, persistDatbase, Like, Dislike, Comments } = DataSlice.actions"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}