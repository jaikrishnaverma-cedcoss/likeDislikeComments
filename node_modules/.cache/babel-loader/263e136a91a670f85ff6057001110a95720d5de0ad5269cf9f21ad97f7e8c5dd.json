{"ast":null,"code":"import { createAsyncThunk, createSlice } from \"@reduxjs/toolkit\";\nconst initialState = {\n  posts: [],\n  users: [{\n    name: 'jai krishna verma',\n    email: 'jai@gmail.com',\n    number: 8787878787,\n    pic: 'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSP_jBNGDAl_gCziVLX5q8vuci3Z8VmfK8Rrdtct54&s',\n    password: '2222'\n  }],\n  sessionIndex: -1,\n  editIndex: -1\n};\nexport const fetchData = createAsyncThunk('DataSlice/fetchData', async () => {\n  console.log('aa gya');\n  let res = await fetch('https://api.pexels.com/v1/curated?page=11&per_page=30', {\n    headers: {\n      Authorization: '563492ad6f917000010000018ca9c228a1e543fabdc77f6bc56284f9',\n      'Content-Type': 'multipart/mixed'\n    }\n  });\n  res = await res.json();\n  // .then(res=>res.json())\n  // .then(clg=>console.log(clg))\n  console.log(res);\n  return res.photos;\n});\nconst DataSlice = createSlice({\n  name: 'DataSlice',\n  initialState,\n  reducers: {\n    addBlog: (state, action) => {\n      state.posts.push({\n        title: action.payload.title,\n        author: action.payload.author,\n        userid: action.payload.userid,\n        category: action.payload.category,\n        tags: ['blog'],\n        pic: action.payload.pic,\n        typography: action.payload.typography,\n        date: new Date().toJSON().slice(0, 10).split('-').reverse().join('-')\n      });\n    },\n    addUser: (state, action) => {\n      state.users.push({\n        name: action.payload.name,\n        email: action.payload.email,\n        number: action.payload.number,\n        pic: action.payload.pic,\n        password: action.payload.password\n      });\n    },\n    updatePost: (state, action) => {\n      // {,index,title,author,userid,tags,typography,date}\n      state.posts[action.payload.index] = {\n        ...state.posts[action.payload.index],\n        title: action.payload.title,\n        typography: action.payload.typography,\n        date: new Date().toJSON().slice(0, 10).split('-').reverse().join('-')\n      };\n      state.editIndex = -1;\n    },\n    deleteBlog: (state, action) => {\n      state.posts.splice(action.payload, 1);\n    },\n    setSeesionIndex: (state, action) => {\n      state.sessionIndex = action.payload;\n    },\n    setEditIndex: (state, action) => {\n      state.editIndex = action.payload;\n    },\n    persistDatbase: (state, action) => {\n      state.posts = JSON.parse(action.payload).posts;\n      state.sessionIndex = JSON.parse(action.payload).sessionIndex;\n      state.users = JSON.parse(action.payload).users;\n    }\n  },\n  extraReducers: builder => {\n    builder.addCase(fetchData.pending, (state, action) => {});\n    builder.addCase(fetchData.rejected, (state, action) => {});\n    builder.addCase(fetchData.fulfilled, (state, action) => {\n      state.posts;\n    });\n  }\n});\nexport default DataSlice.reducer;\nexport const {\n  addBlog,\n  addUser,\n  updatePost,\n  deleteBlog,\n  setSeesionIndex,\n  persistDatbase,\n  setEditIndex\n} = DataSlice.actions;","map":{"version":3,"names":["createAsyncThunk","createSlice","initialState","posts","users","name","email","number","pic","password","sessionIndex","editIndex","fetchData","console","log","res","fetch","headers","Authorization","json","photos","DataSlice","reducers","addBlog","state","action","push","title","payload","author","userid","category","tags","typography","date","Date","toJSON","slice","split","reverse","join","addUser","updatePost","index","deleteBlog","splice","setSeesionIndex","setEditIndex","persistDatbase","JSON","parse","extraReducers","builder","addCase","pending","rejected","fulfilled","reducer","actions"],"sources":["/home/cedcoss/mark01/A-React Work/01_firstReactApp/83-blogApp/likeDislikes/src/Features/DataSlice.tsx"],"sourcesContent":["import { createAsyncThunk, createSlice } from \"@reduxjs/toolkit\";\n\nconst initialState={\nposts:[ \n    \n],\nusers:[{\n    name : 'jai krishna verma',\n    email:'jai@gmail.com',\n    number:8787878787,\n    pic:'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSP_jBNGDAl_gCziVLX5q8vuci3Z8VmfK8Rrdtct54&s',\n    password:'2222'\n}],\nsessionIndex:-1,\neditIndex:-1\n}\n\nexport const fetchData=createAsyncThunk('DataSlice/fetchData',async ()=>{\n    console.log('aa gya')\nlet res:any= await fetch('https://api.pexels.com/v1/curated?page=11&per_page=30',{\n    headers: {\n\t    Authorization: '563492ad6f917000010000018ca9c228a1e543fabdc77f6bc56284f9',\n\t    'Content-Type': 'multipart/mixed'\n}\n})\nres=await res.json()\n// .then(res=>res.json())\n// .then(clg=>console.log(clg))\nconsole.log(res)\nreturn res.photos\n\n})\n\nconst DataSlice:any=createSlice({\n    name:'DataSlice',\n    initialState,\n    reducers:{\n    addBlog:(state,action)=>{\n        state.posts.push( {\n            title: action.payload.title,\n            author: action.payload.author,\n            userid: action.payload.userid,\n            category:action.payload.category,\n            tags:['blog'],\n            pic:action.payload.pic,\n            typography: action.payload.typography,\n            date:new Date().toJSON().slice(0, 10).split('-').reverse().join('-')\n        })\n    },\n    addUser:(state,action)=>{\n        state.users.push({\n            name : action.payload.name,\n            email:action.payload.email,\n            number:action.payload.number,\n            pic:action.payload.pic,\n            password:action.payload.password\n        })\n    },\n    updatePost:(state,action)=>{\n        // {,index,title,author,userid,tags,typography,date}\n        state.posts[action.payload.index]={\n            ...state.posts[action.payload.index],\n            title: action.payload.title,\n            typography: action.payload.typography,\n            date:new Date().toJSON().slice(0, 10).split('-').reverse().join('-')\n        }\n        state.editIndex=-1\n    },\n    deleteBlog:(state,action)=>{\n        state.posts.splice(action.payload,1)\n    },\n    setSeesionIndex:(state,action)=>{\n        state.sessionIndex=action.payload\n    },\n    setEditIndex:(state,action)=>{\n        state.editIndex=action.payload\n    },\n    persistDatbase:(state,action)=>{\n       state.posts=JSON.parse(action.payload).posts\n       state.sessionIndex=JSON.parse(action.payload).sessionIndex\n       state.users=JSON.parse(action.payload).users\n       \n    }\n    },\n    extraReducers:(builder)=>{\n        builder.addCase(fetchData.pending,(state,action)=>{\n            \n        })\n        builder.addCase(fetchData.rejected,(state,action)=>{\n            \n        })\n        builder.addCase(fetchData.fulfilled,(state,action)=>{\n            state.posts\n        })\n    }\n})\n\nexport default DataSlice.reducer;\nexport const { addBlog,addUser,updatePost,deleteBlog,setSeesionIndex,persistDatbase,setEditIndex} = DataSlice.actions"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}