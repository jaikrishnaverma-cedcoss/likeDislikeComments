{"ast":null,"code":"import { createAsyncThunk, createSlice } from \"@reduxjs/toolkit\";\nconst initialState = {\n  posts: [],\n  users: [{\n    name: 'jai krishna verma',\n    email: 'jai@gmail.com',\n    number: 8787878787,\n    pic: 'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSP_jBNGDAl_gCziVLX5q8vuci3Z8VmfK8Rrdtct54&s',\n    password: '2222'\n  }],\n  sessionIndex: -1,\n  editIndex: -1,\n  msg: ''\n};\nexport const fetchData = createAsyncThunk('DataSlice/fetchData', async () => {\n  console.log('aa gya');\n  let res = await fetch('https://api.pexels.com/v1/curated?page=11&per_page=30', {\n    headers: {\n      Authorization: '563492ad6f917000010000018ca9c228a1e543fabdc77f6bc56284f9',\n      'Content-Type': 'multipart/mixed'\n    }\n  });\n  res = await res.json();\n  // .then(res=>res.json())\n  // .then(clg=>console.log(clg))\n  res = await res.photos.map(x => {\n    let y = {\n      ...x,\n      like: 0,\n      dislike: 0,\n      comments: []\n    };\n    return y;\n  });\n  console.log(res);\n  return res;\n});\nconst DataSlice = createSlice({\n  name: 'DataSlice',\n  initialState,\n  reducers: {\n    addBlog: (state, action) => {\n      state.posts.push({\n        title: action.payload.title,\n        author: action.payload.author,\n        userid: action.payload.userid,\n        category: action.payload.category,\n        tags: ['blog'],\n        pic: action.payload.pic,\n        typography: action.payload.typography,\n        date: new Date().toJSON().slice(0, 10).split('-').reverse().join('-')\n      });\n    },\n    addUser: (state, action) => {\n      state.users.push({\n        name: action.payload.name,\n        email: action.payload.email,\n        number: action.payload.number,\n        pic: action.payload.pic,\n        password: action.payload.password\n      });\n    },\n    updatePost: (state, action) => {\n      // {,index,title,author,userid,tags,typography,date}\n      state.posts[action.payload.index] = {\n        ...state.posts[action.payload.index],\n        title: action.payload.title,\n        typography: action.payload.typography,\n        date: new Date().toJSON().slice(0, 10).split('-').reverse().join('-')\n      };\n      state.editIndex = -1;\n    },\n    deleteBlog: (state, action) => {\n      state.posts.splice(action.payload, 1);\n    },\n    setSeesionIndex: (state, action) => {\n      state.sessionIndex = action.payload;\n    },\n    Like: (state, action) => {\n      state.posts[action.payload].like += 1;\n    },\n    Dislike: (state, action) => {\n      state.posts[action.payload].dislike += 1;\n    },\n    persistDatbase: (state, action) => {\n      state.posts = JSON.parse(action.payload).posts;\n      state.sessionIndex = JSON.parse(action.payload).sessionIndex;\n      state.users = JSON.parse(action.payload).users;\n    }\n  },\n  extraReducers: builder => {\n    builder.addCase(fetchData.pending, (state, action) => {\n      state.msg = 'loading';\n    });\n    builder.addCase(fetchData.rejected, (state, action) => {\n      state.msg = 'Api Request Rejected';\n    });\n    builder.addCase(fetchData.fulfilled, (state, action) => {\n      state.posts = [...action.payload];\n      state.msg = '';\n    });\n  }\n});\nexport default DataSlice.reducer;\nexport const {\n  addBlog,\n  addUser,\n  updatePost,\n  deleteBlog,\n  setSeesionIndex,\n  persistDatbase,\n  Like,\n  Dislike\n} = DataSlice.actions;","map":{"version":3,"names":["createAsyncThunk","createSlice","initialState","posts","users","name","email","number","pic","password","sessionIndex","editIndex","msg","fetchData","console","log","res","fetch","headers","Authorization","json","photos","map","x","y","like","dislike","comments","DataSlice","reducers","addBlog","state","action","push","title","payload","author","userid","category","tags","typography","date","Date","toJSON","slice","split","reverse","join","addUser","updatePost","index","deleteBlog","splice","setSeesionIndex","Like","Dislike","persistDatbase","JSON","parse","extraReducers","builder","addCase","pending","rejected","fulfilled","reducer","actions"],"sources":["/home/cedcoss/mark01/A-React Work/01_firstReactApp/83-blogApp/likeDislikes/src/Features/DataSlice.tsx"],"sourcesContent":["import { createAsyncThunk, createSlice } from \"@reduxjs/toolkit\";\n\nconst initialState:any={\nposts:[ \n    \n],\nusers:[{\n    name : 'jai krishna verma',\n    email:'jai@gmail.com',\n    number:8787878787,\n    pic:'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSP_jBNGDAl_gCziVLX5q8vuci3Z8VmfK8Rrdtct54&s',\n    password:'2222'\n}],\nsessionIndex:-1,\neditIndex:-1,\nmsg:''\n}\n\nexport const fetchData=createAsyncThunk('DataSlice/fetchData',async ()=>{\n    console.log('aa gya')\nlet res:any= await fetch('https://api.pexels.com/v1/curated?page=11&per_page=30',{\n    headers: {\n\t    Authorization: '563492ad6f917000010000018ca9c228a1e543fabdc77f6bc56284f9',\n\t    'Content-Type': 'multipart/mixed'\n}\n})\nres=await res.json()\n// .then(res=>res.json())\n// .then(clg=>console.log(clg))\nres=await res.photos.map((x:any)=>{let y={...x,like:0,dislike:0,comments:[]};return y})\nconsole.log(res)\nreturn res\n\n})\n\nconst DataSlice:any=createSlice({\n    name:'DataSlice',\n    initialState,\n    reducers:{\n    addBlog:(state,action)=>{\n        state.posts.push( {\n            title: action.payload.title,\n            author: action.payload.author,\n            userid: action.payload.userid,\n            category:action.payload.category,\n            tags:['blog'],\n            pic:action.payload.pic,\n            typography: action.payload.typography,\n            date:new Date().toJSON().slice(0, 10).split('-').reverse().join('-')\n        })\n    },\n    addUser:(state,action)=>{\n        state.users.push({\n            name : action.payload.name,\n            email:action.payload.email,\n            number:action.payload.number,\n            pic:action.payload.pic,\n            password:action.payload.password\n        })\n    },\n    updatePost:(state,action)=>{\n        // {,index,title,author,userid,tags,typography,date}\n        state.posts[action.payload.index]={\n            ...state.posts[action.payload.index],\n            title: action.payload.title,\n            typography: action.payload.typography,\n            date:new Date().toJSON().slice(0, 10).split('-').reverse().join('-')\n        }\n        state.editIndex=-1\n    },\n    deleteBlog:(state,action)=>{\n        state.posts.splice(action.payload,1)\n    },\n    setSeesionIndex:(state,action)=>{\n        state.sessionIndex=action.payload\n    },\n    Like:(state,action)=>{\n        state.posts[action.payload].like+=1\n    },\n    Dislike:(state,action)=>{\n        state.posts[action.payload].dislike+=1\n    },\n    persistDatbase:(state,action)=>{\n       state.posts=JSON.parse(action.payload).posts\n       state.sessionIndex=JSON.parse(action.payload).sessionIndex\n       state.users=JSON.parse(action.payload).users\n    }\n    },\n    extraReducers:(builder)=>{\n        builder.addCase(fetchData.pending,(state,action)=>{\n            state.msg='loading'\n        })\n        builder.addCase(fetchData.rejected,(state,action)=>{\n            state.msg='Api Request Rejected'\n        })\n        builder.addCase(fetchData.fulfilled,(state,action)=>{\n            state.posts=[...action.payload]\n            state.msg=''\n        })\n    }\n})\n\nexport default DataSlice.reducer;\nexport const { addBlog,addUser,updatePost,deleteBlog,setSeesionIndex,persistDatbase,Like,Dislike} = DataSlice.actions"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}